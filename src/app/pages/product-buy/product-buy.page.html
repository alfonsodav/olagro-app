<app-header></app-header>

<ion-content>
  <ion-searchbar
    class="search"
    placeholder=""
    #searchBar
    (ionInput)="search(searchBar.value)"
  ></ion-searchbar>

  <ion-grid *ngIf="product">
    <ion-row>
      <ion-col class="ion-margin image-product" size="11">
        <ion-avatar>
          <ion-img [src]="product.productImage"></ion-img>
        </ion-avatar>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <ion-text>
          <h5 class="ion-no-margin">{{product.productLotName}}</h5>
          <p style="font-size: small">
            Disponible: {{ product.productLotAvailableDate | date:
            "dd-MMMM-yyyy" }}
          </p>
          <p style="font-size: small">
            Producido en: {{ product.productLotCultivatedAreaAddress }}
          </p>
        </ion-text>
      </ion-col>
      <ion-col size="6">
        <p>Cantidad</p>
        <div class="cantidad">
          <ion-input value="{{product.productLotQuantity}}"></ion-input>
          <p>unidades</p>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
  <div style="display: flex">
    <ion-label *ngIf="messageError" style="margin: auto">
      {{messageError}}
    </ion-label>
  </div>
  <div style="border-radius: 1rem; background: whitesmoke; margin: 1rem">
    <ion-grid>
      <ion-row>
        <ion-col
          size="4"
          class="ion-text-center"
          style="display: flex"
          (click)="onBookins()"
        >
          <ion-label style="margin: auto" color="warning" >Reservar</ion-label>
        </ion-col>
        <ion-col size="8" class="ion-text-center">
          <p>Al reservar deberas abonar un anticipo del 10% de la compra</p>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <div style="padding: 1rem">
    <ion-button class="buy" expand="block" shape="round" (click)="addToCart()"
      >Comprar ahora</ion-button
    >
  </div>
</ion-content>
